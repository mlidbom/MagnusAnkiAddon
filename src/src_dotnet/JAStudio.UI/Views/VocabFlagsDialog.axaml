<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:JAStudio.UI.ViewModels"
        xmlns:controls="using:JAStudio.UI.Controls"
        x:Class="JAStudio.UI.Views.VocabFlagsDialog"
        x:DataType="vm:VocabFlagsViewModel"
        Title="{Binding Title}"
        SizeToContent="WidthAndHeight"
        MinWidth="600" MinHeight="400"
        Design.Width="1400" Design.Height="1250"
        WindowStartupLocation="CenterScreen">

    <Design.DataContext>
        <vm:VocabFlagsViewModel />
    </Design.DataContext>
   
   <Window.RenderTransform>
      <ScaleTransform ScaleX="0.85" ScaleY="0.85" />
   </Window.RenderTransform>
   
   <Window.Resources>
      <Thickness x:Key="RequiresForbidsMargin">0,0,0,-5</Thickness>
      <Thickness x:Key="RequiresForbidsNameMargin">0,0,0,-5</Thickness>
      <x:Double x:Key="StackPanelSpacing">-10</x:Double>
      <Thickness x:Key="BorderPadding">5</Thickness>
   </Window.Resources>

    <DockPanel Margin="10">
        <!-- Button bar at bottom -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0" Spacing="10">
            <Button Content="OK" Command="{Binding SaveCommand}" Width="80" />
            <Button Content="Cancel" Command="{Binding CancelCommand}" Width="80" />
        </StackPanel>

        <!-- Scrollable content -->
        <ScrollViewer>
            <StackPanel Orientation="Horizontal" Spacing="20" Margin="5">

                <!-- Left Column: Parsing Settings -->
                <StackPanel Width="700" Spacing="10">
                    <TextBlock Text="Parsing" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" />

                    <!-- Display Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Display" FontWeight="SemiBold" FontSize="14"  />
                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto" Margin="0,5,0,0">
                                <TextBlock Grid.Column="0" Text="Yield to overlapping following compound" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" />
                                <controls:RequireForbidControl Grid.Column="1" DataContext="{Binding YieldLastToken}" Margin="{StaticResource RequiresForbidsMargin}" />
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Misc matching rules Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Misc matching rules" FontWeight="SemiBold" FontSize="14" />
                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto" Margin="0,5,0,0">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Surface" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="120" />
                                <controls:RequireForbidControl Grid.Row="0" Grid.Column="1" DataContext="{Binding Surface}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Sentence end" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="120" />
                                <controls:RequireForbidControl Grid.Row="1" Grid.Column="1" DataContext="{Binding SentenceEnd}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Sentence start" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="120" />
                                <controls:RequireForbidControl Grid.Row="2" Grid.Column="1" DataContext="{Binding SentenceStart}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Single token" VerticalAlignment="Center" Margin="0,0,10,0" MinWidth="120" />
                                <controls:RequireForbidControl Grid.Row="3" Grid.Column="1" DataContext="{Binding SingleToken}" />
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Stem matching rules Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Stem matching rules" FontWeight="SemiBold" FontSize="14" />
                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto" Margin="0,0,0,0">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Godan imperative" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="0" Grid.Column="1" DataContext="{Binding GodanImperative}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Godan imperative prefix" VerticalAlignment="Center" Margin="0,0,10,-5" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="1" Grid.Column="1" DataContext="{Binding GodanImperativePrefix}" Margin="0,0,0,-5" />
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Godan potential" VerticalAlignment="Center" Margin="0,0,10,-5" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="2" Grid.Column="1" DataContext="{Binding GodanPotential}" Margin="0,0,0,-5" />
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Ichidan imperative" VerticalAlignment="Center" Margin="0,0,10,-5" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="3" Grid.Column="1" DataContext="{Binding IchidanImperative}" Margin="0,0,0,-5" />
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="Masu stem" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="4" Grid.Column="1" DataContext="{Binding MasuStem}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="5" Grid.Column="0" Text="Godan" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="5" Grid.Column="1" DataContext="{Binding Godan}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="6" Grid.Column="0" Text="Ichidan" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="6" Grid.Column="1" DataContext="{Binding Ichidan}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="7" Grid.Column="0" Text="Irrealis" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="7" Grid.Column="1" DataContext="{Binding Irrealis}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="8" Grid.Column="0" Text="Past tense stem" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="8" Grid.Column="1" DataContext="{Binding PastTenseStem}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="9" Grid.Column="0" Text="Dictionary form stem" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="9" Grid.Column="1" DataContext="{Binding DictionaryFormStem}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="10" Grid.Column="0" Text="Dictionary form prefix" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="10" Grid.Column="1" DataContext="{Binding DictionaryFormPrefix}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="11" Grid.Column="0" Text="Preceding adverb" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="11" Grid.Column="1" DataContext="{Binding PrecedingAdverb}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="12" Grid.Column="0" Text="て-form stem" VerticalAlignment="Center" Margin="{StaticResource RequiresForbidsNameMargin}" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="12" Grid.Column="1" DataContext="{Binding TeFormStem}" Margin="{StaticResource RequiresForbidsMargin}" />
                                
                                <TextBlock Grid.Row="13" Grid.Column="0" Text="て-form prefix" VerticalAlignment="Center" Margin="0,0,10,0" MinWidth="160" />
                                <controls:RequireForbidControl Grid.Row="13" Grid.Column="1" DataContext="{Binding TeFormPrefix}" />
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Is Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Is" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" />
                            <CheckBox Content="Inflecting word" IsChecked="{Binding IsInflectingWord}" />
                            <CheckBox Content="Poison word" IsChecked="{Binding IsPoisonWord}" />
                        </StackPanel>
                    </Border>

                    <!-- Misc Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Misc" FontWeight="SemiBold" FontSize="14"  Margin="0,0,0,10"/>
                            <CheckBox Content="Match with preceding vowel" IsChecked="{Binding MatchWithPrecedingVowel}" />
                            <CheckBox Content="Question overrides form: Show the question in results even if the match was another form" IsChecked="{Binding QuestionOverridesForm}" />
                        </StackPanel>
                    </Border>

                    <!-- String Rules Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}" >
                            <TextBlock Text="String Rules" FontWeight="SemiBold" FontSize="14" />
                            <controls:StringSetControl DataContext="{Binding PrefixIsNot}" />
                            <controls:StringSetControl DataContext="{Binding RequiredPrefix}" />
                            <controls:StringSetControl DataContext="{Binding SuffixIsNot}" />
                            <controls:StringSetControl DataContext="{Binding SurfaceIsNot}" />
                            <controls:StringSetControl DataContext="{Binding YieldToSurface}" />
                        </StackPanel>
                    </Border>

                </StackPanel>

                <!-- Right Column: Metadata -->
                <StackPanel Width="400" Spacing="10">
                    <TextBlock Text="Meta Data" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" />

                    <!-- Misc Metadata -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}">
                            <TextBlock Text="Misc" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" />
                            <CheckBox Content="Compositionally transparent compound" IsChecked="{Binding IsCompositionallyTransparentCompound}" />
                        </StackPanel>
                    </Border>

                    <!-- Register Section -->
                    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="{StaticResource BorderPadding}">
                        <StackPanel Spacing="{StaticResource StackPanelSpacing}" >
                            <TextBlock Text="Register" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" />
                            <CheckBox Content="Archaic" IsChecked="{Binding Archaic}" />
                            <CheckBox Content="Childish" IsChecked="{Binding Childish}" />
                            <CheckBox Content="Derogatory" IsChecked="{Binding Derogatory}" />
                            <CheckBox Content="Formal" IsChecked="{Binding Formal}" />
                            <CheckBox Content="Honorific" IsChecked="{Binding Honorific}" />
                            <CheckBox Content="Humble" IsChecked="{Binding Humble}" />
                            <CheckBox Content="Informal" IsChecked="{Binding Informal}" />
                            <CheckBox Content="Literary" IsChecked="{Binding Literary}" />
                            <CheckBox Content="Polite" IsChecked="{Binding Polite}" />
                            <CheckBox Content="Rough, traditionally considered male" IsChecked="{Binding RoughMasculine}" />
                            <CheckBox Content="Sensitive" IsChecked="{Binding Sensitive}" />
                            <CheckBox Content="Slang" IsChecked="{Binding Slang}" />
                            <CheckBox Content="Soft, traditionally considered feminine" IsChecked="{Binding SoftFeminine}" />
                            <CheckBox Content="Vulgar, usually offensive" IsChecked="{Binding Vulgar}" />
                        </StackPanel>
                    </Border>

                </StackPanel>

            </StackPanel>
        </ScrollViewer>

    </DockPanel>
</Window>
