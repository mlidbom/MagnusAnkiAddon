# JAStudio Python to C# Porting Status

## Porting Rules

**Stay faithful to the Python - refactoring comes later.** We want almost completely equivalent code, only in C#.

- **File structure:** Classes should be in the equivalent file in C# as in Python. Do not put them in other files willy-nilly.
- **WeakRef:** Replace with standard references in .NET (C# has better garbage collection).
- **Naming:** Use .NET naming standards (PascalCase for public members, etc.).
- **Class organization:** If a class is in a separate file in Python, it should be in the equivalent .cs file. If classes are together in the same file in Python, same for C#.
- **Missing dependencies:** When ported code doesn't compile due to missing classes, create them. If too complex to implement immediately, create members throwing `NotImplementedException`.
- **Implementation completeness:** Either fully implement a member or throw `NotImplementedException`. Do NOT return nonsense values.
- **Constants/literals:** Do NOT create new constants or magic literals duplicating existing ones. Access constants from the .NET equivalent of the classes they're in in Python.
- **String interning:** Python-specific optimization for memory management. Not needed in C# - skip it.

## Legend
- **CREATED WIP** - C# equivalent exists but needs verification for equivalence
- **MISSING** - No C# equivalent exists yet
- **COMPLETE** - C# equivalent verified as functionally equivalent to Python

---

## File Structure

- Root
    - 90% app.py
        - All core functionality present; uses List vs QSet, path computation slightly different
    - 80% mylog.py
        - Core API complete but uses simplified ConsoleLogger vs Python's detailed logging config (handlers, formatters, environment-based levels)
- batches
    - MISSING local_note_updater.py
- configuration
    - MISSING configuration_value.py
    - MISSING settings.py
- dotnet
    - MISSING load_dotnet_runtime.py
- language_services
    - 100% conjugator.py
    - 100% hiragana_chart.py
    - 100% katakana_chart.py
    - jamdict_ex
        - MISSING dict_entry.py
        - MISSING dict_lookup.py
        - MISSING dict_lookup_result.py
        - MISSING jamdict_threading_wrapper.py
        - MISSING priority_spec.py
    - janome_ex
        - tokenizing
            - MISSING analysis_token.py
            - MISSING godan_dictionary_form_stem.py
            - MISSING inflection_forms.py
            - MISSING inflection_types.py
            - MISSING jn_parts_of_speech.py
            - MISSING jn_token.py
            - MISSING jn_tokenized_text.py
            - MISSING jn_tokenizer.py
            - MISSING split_token.py
            - pre_processing_stage
                - MISSING dictionary_form_verb_splitter.py
                - MISSING godan_imperative_splitter.py
                - MISSING ichidan_godan_potential_or_imperative_hybrid_splitter.py
                - MISSING ichidan_imperative_splitter.py
                - MISSING pre_processing_stage.py
                - MISSING word_info.py
                - MISSING word_info_entry.py
        - word_extraction
            - MISSING analysis_constants.py
            - MISSING candidate_word.py
            - MISSING candidate_word_variant.py
            - MISSING text_analysis.py
            - MISSING text_location.py
            - 30% word_exclusion.py
                - C# merged WordExclusion + WordExclusionSet into one file (should be separate); missing _match_part field, excludes_all_words_excluded_by method, equality/hash
            - matches
                - MISSING dictionary_match.py
                - 10% match.py
                    - Stub with basic properties only; missing validation system, MatchInspector, caching, requirements, abstract methods
                - MISSING missing_match.py
                - 10% vocab_match.py
                    - Stub only; VocabMatch defined in Match.cs instead of separate file
                - requirements
                    - MISSING custom_forbids_no_cache.py
                    - MISSING match_inspector.py
                    - MISSING requirement.py
                    - MISSING vocab_match_inspector.py
                - state_tests
                    - MISSING another_match_owns_the_form.py
                    - MISSING forbids_compositionally_transparent_compound.py
                    - MISSING forbids_compounds.py
                    - MISSING forbids_dictionary_form_verb_inflection.py
                    - MISSING forbids_dictionary_form_verb_stem_surface_as_compound_end.py
                    - MISSING forbids_yields_to_surface.py
                    - MISSING is_configured_hidden.py
                    - MISSING is_configured_incorrect.py
                    - MISSING is_exact_match.py
                    - MISSING is_godan_imperative_surface_with_base.py
                    - MISSING is_godan_potential_surface_with_base.py
                    - MISSING is_ichidan_imperative.py
                    - MISSING is_inflected_surface_with_valid_base.py
                    - MISSING is_poison_word.py
                    - MISSING is_shadowed.py
                    - MISSING is_single_token.py
                    - MISSING starts_with_godan_imperative_stem_or_inflection.py
                    - MISSING starts_with_godan_potential_stem_or_inflection.py
                    - MISSING surface_is_in.py
                    - head
                        - MISSING failed_match_requirement.py
                        - MISSING generic_forbids.py
                        - MISSING has_godan_imperative_prefix.py
                        - MISSING has_past_tense_stem.py
                        - MISSING has_te_form_stem.py
                        - MISSING is_sentence_start.py
                        - MISSING prefix_is_in.py
                        - MISSING requires_forbids_adverb_stem.py
                        - MISSING requires_forbids_masu_stem.py
                        - MISSING requires_or_forbids_dictionary_form_prefix.py
                        - MISSING requires_or_forbids_dictionary_form_stem.py
                        - MISSING requires_or_forbids_generic.py
                    - tail
                        - MISSING forbids_has_displayed_overlapping_following_compound.py
                        - MISSING is_sentence_end.py
                        - MISSING suffix_is_in.py
- note
    - MISSING backend_note_creator.py
    - MISSING difficulty_calculator.py
    - 100% jpnote.py
    - 100% jpnote_data.py
    - MISSING kanjinote.py
    - MISSING kanjinote_mnemonic_maker.py
    - 80% note_constants.py
        - Core constants present but C# has reorganized structure with additional fields; missing Mine class
    - MISSING note_flush_guard.py
    - 100% note_tags.py
    - CREATED WIP tag.py
    - CREATED WIP tags.py
    - collection
        - MISSING card_studying_status.py
        - CREATED WIP jp_collection.py
        - MISSING kanji_collection.py
        - CREATED WIP note_cache.py
        - MISSING sentence_collection.py
        - MISSING vocab_collection.py
    - notefields
        - CREATED WIP audio_field.py
        - CREATED WIP caching_mutable_string_field.py
        - CREATED WIP comma_separated_strings_list_field.py
        - CREATED WIP comma_separated_strings_list_field_de_duplicated.py
        - CREATED WIP fallback_string_field.py
        - CREATED WIP integer_field.py
        - CREATED WIP json_object_field.py
        - CREATED WIP mutable_string_field.py
        - CREATED WIP require_forbid_flag_field.py
        - CREATED WIP sentence_question_field.py
        - CREATED WIP strip_html_on_read_fallback_string_field.py
        - CREATED WIP tag_flag_field.py
        - auto_save_wrappers
            - MISSING field_wrapper.py
            - MISSING set_wrapper.py
            - MISSING value_wrapper.py
    - sentences
        - CREATED WIP caching_sentence_configuration_field.py
        - CREATED WIP parsed_match.py
        - CREATED WIP parsing_result.py
        - CREATED WIP sentence_configuration.py
        - CREATED WIP sentencenote.py
        - CREATED WIP user_fields.py
        - CREATED WIP word_exclusion_set.py
        - serialization
            - CREATED WIP parsed_word_serializer.py
            - CREATED WIP parsing_result_serializer.py
            - CREATED WIP sentence_configuration_serializer.py
    - vocabulary
        - MISSING pos.py
        - MISSING pos_set_interner.py
        - CREATED WIP vocabnote.py
        - MISSING vocabnote_audio.py
        - MISSING vocabnote_cloner.py
        - CREATED WIP vocabnote_conjugator.py
        - MISSING vocabnote_factory.py
        - CREATED WIP vocabnote_forms.py
        - MISSING vocabnote_generated_data.py
        - MISSING vocabnote_kanji.py
        - MISSING vocabnote_matching_rules.py
        - MISSING vocabnote_matching_rules_is_inflecting_word.py
        - MISSING vocabnote_matching_rules_yield_last_token_to_next_compound.py
        - MISSING vocabnote_meta_tag.py
        - MISSING vocabnote_metadata.py
        - MISSING vocabnote_parts_of_speech.py
        - MISSING vocabnote_question.py
        - MISSING vocabnote_register.py
        - MISSING vocabnote_sentences.py
        - MISSING vocabnote_sorting.py
        - CREATED WIP vocabnote_usercompoundparts.py
        - MISSING vocabnote_userfields.py
        - related_vocab
            - MISSING Antonyms.py
            - MISSING ergative_twin.py
            - MISSING perfect_synonyms.py
            - MISSING related_vocab.py
            - MISSING related_vocab_data.py
            - MISSING related_vocab_data_serializer.py
            - MISSING SeeAlso.py
            - MISSING Synonyms.py
        - serialization
            - MISSING matching_rules_serializer.py
- task_runners
    - MISSING i_task_progress_runner.py
    - MISSING invisible_task_progress_runner.py
    - MISSING task_progress_runner.py
- testutils
    - MISSING ex_pytest.py
- ui
    - web
        - sentence
            - MISSING candidate_word_variant_viewmodel.py
            - MISSING compound_part_viewmodel.py
            - MISSING match_viewmodel.py
            - MISSING sentence_viewmodel.py
            - MISSING text_analysis_viewmodel.py
        - vocab
            - MISSING vocab_sentences_vocab_sentence_view_model.py
- viewmodels
    - kanji_list
        - MISSING kanji_list_viewmodel.py
        - MISSING sentence_kanji_list_viewmodel.py
        - MISSING sentence_kanji_viewmodel.py

---

## Summary Statistics
- **CREATED WIP**: 30 files
- **MISSING**: 135 files
- **COMPLETE**: 0 files
- **Total Python files**: 165 files
- **Completion**: ~18%

